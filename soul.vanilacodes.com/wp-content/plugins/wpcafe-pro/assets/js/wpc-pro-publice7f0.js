(function($){"use strict";$(document).ready(function(){$('.wpc-nav-shortcode').each(function(){wpc_widgets_popup($,$(this));});var $list_slider_scope=$('.wpc-menu-slider-shortcode');if($list_slider_scope.length>0){slider_action($,$list_slider_scope,'.wpc-food-menu-slider',$('.wpc-nav-shortcode'));}
var $tab_slider_scope=$('.wpc-menu-tab-slider-shortcode');if($tab_slider_scope.length>0){slider_action($,$tab_slider_scope,'.wpc-tab-with-slider',$('.wpc-nav-shortcode'));}
$("body").on('click','.wpc-variation-title',function(){$(this).next('.wpc-variation-body').slideToggle();$(this).find('.toggle-icon-trigger').toggleClass('triggered');});var wpc_booking_form_data;if(typeof wpc_form_client_data!==undefined){var wpc_form_data=JSON.parse(wpc_form_client_data);wpc_booking_form_data=wpc_form_data.settings;}
$(document).on('click','.wpcpro-select-location',function(){wpcpro_location=$('.wpcpro-location option:selected').val();var local_storage_value=localStorage.getItem('wpcpro_location');if(local_storage_value===null){localStorage.setItem('wpcpro_location',wpcpro_location);}else{localStorage.removeItem('wpcpro_location');localStorage.setItem('wpcpro_location',wpcpro_location);}
$('.wpc-tab .wpc-row').css('display','none');$('.wpc-row[data-id='+wpcpro_location+']').css('display','block');$(".wpc_modal").fadeOut();$('body').removeClass('wpc_location_popup');});const check_obj=()=>{var response=false;if(typeof wpc_obj!=='undefined'&&typeof wpc_obj.settings_options!=='undefined'){response=true;}
return response;}
$("#both_pickup").css("display","none");var deliverySavedValue=localStorage.getItem('wpcpro_delivery');$("input[name='wpc_pro_order_time'][value='"+deliverySavedValue+"']").attr('checked','checked');$('input[name="wpc_pro_order_time"]').trigger("change");var checkedValue=$('input[name="wpc_pro_order_time"]:checked').val();if(typeof checkedValue!=="undefined"){order_time_tab(checkedValue)}
$(".woocommerce-input-wrapper").on('change','input[name="wpc_pro_order_time"]',function(){$(".wpc_error_message").css("display","none").html("");var selectedVal=$(this).val();order_time_tab(selectedVal)});function order_time_tab(param){if(param!==undefined){var divToShow=$("#both_"+param.toLowerCase());divToShow.fadeIn('slow').siblings().hide('fast');}
else{$(".wpc_pro_order_time_settings").children().hide('fast');}}
var disable_delivery_date=[];var disable_pickup_date=[];var disable_pickup_holiday=[];var wpc_delivery_holiday=[];var result=check_obj();if(result==true){if(typeof wpc_obj.settings_options.wpc_delivery_exception_date!=='undefined'&&wpc_obj.settings_options.wpc_delivery_exception_date!==""){disable_delivery_date=wpc_obj.settings_options.wpc_delivery_exception_date;}
if(typeof wpc_obj.settings_options.wpc_pickup_exception_date!=='undefined'&&wpc_obj.settings_options.wpc_pickup_exception_date!==""){disable_pickup_date=wpc_obj.settings_options.wpc_pickup_exception_date;}
if(typeof wpc_obj.settings_options.wpc_delivery_holiday!=='undefined'){var weekly_delivery_holiday_arr=wpc_obj.settings_options.wpc_delivery_holiday;$.map(weekly_delivery_holiday_arr,function(i,j){wpc_delivery_holiday.push(j);});}
if(typeof wpc_obj.settings_options.wpc_pickup_holiday!=='undefined'){var weekly_pickup_holiday_arr=wpc_obj.settings_options.wpc_pickup_holiday;$.map(weekly_pickup_holiday_arr,function(i,j){disable_pickup_holiday.push(j);});}}
var pickup_time_interval=typeof wpc_obj!=="undefined"&&wpc_obj.settings_options.pickup_time_interval!==""?wpc_obj.settings_options.pickup_time_interval:15;var delivery_time_interval=typeof wpc_obj!=="undefined"&&wpc_obj.settings_options.delivery_time_interval!==""?wpc_obj.settings_options.delivery_time_interval:15;var time_format="H:i";var date_format="Y-m-d";var datepicker_local="en";if(typeof wpc_form_client_data!=="undefined"){var wpc_form_data=JSON.parse(wpc_form_client_data);if(typeof wpc_form_data.settings.wpc_time_format!=="undefined"&&wpc_form_data.settings.wpc_time_format!==""){if(wpc_form_data.settings.wpc_time_format==12){time_format="h:i A"}else if(wpc_form_data.settings.wpc_time_format==24){time_format="H:i"}
date_format=wpc_form_data.settings.wpc_date_format;}
datepicker_local=typeof wpc_form_data.settings.reserv_form_local!=="undefined"?wpc_form_data.settings.reserv_form_local:"en";}
var wpc_pro_delivery_time=$('#wpc_pro_delivery_time').timepicker({timeFormat:time_format,step:delivery_time_interval,});wpc_pro_delivery_time.on('changeTime',function(){var delivery_date=$(".wpc_error_message").data("delivery_date");check_order_type_date({input:$(this),date:$("#wpc_pro_delivery_date"),message:delivery_date})})
var wpc_pro_pickup_time=$('#wpc_pro_pickup_time').timepicker({timeFormat:time_format,step:pickup_time_interval,});wpc_pro_pickup_time.on('changeTime',function(){var pickup_date=$(".wpc_error_message").data("pickup_date");check_order_type_date({input:$(this),date:$("#wpc_pro_pickup_date"),message:pickup_date})})
function check_order_type_date(params){if(typeof params!=="undefined"&&params.date.val()==""){if("0"==params.input.val()){params.input.timepicker('setTime','12:00 AM');}
$(".wpc_error_message").css("display","block").html("").html(params.message);params.input.timepicker('setTime','');}}
var delivery_time_obj={type:"delivery",id:"#wpc_pro_delivery_date",holiday:wpc_delivery_holiday,disable_arr:disable_delivery_date,input_name:"input[name='wpc_pro_delivery_date']",time_obj:wpc_pro_delivery_time};order_time_schedule(delivery_time_obj);var pickup_time_obj={type:"pickup",id:"#wpc_pro_pickup_date",holiday:disable_pickup_holiday,disable_arr:disable_pickup_date,input_name:"input[name='wpc_pro_pickup_date']",time_obj:wpc_pro_pickup_time};order_time_schedule(pickup_time_obj);function order_time_schedule(param){var disable_weekly_date=function(date){var disable_data=false;$.map(param.holiday,function(i,j){if(date.getDay()==i){disable_data=true;}});return disable_data;};param.disable_arr.push(disable_weekly_date);$(param.id).flatpickr({minDate:"today",dateFormat:date_format,locale:datepicker_local,disable:param.disable_arr,position:"below",onChange:function(selectedDates,dateStr,instance){$(".wpc_error_message").css("display","none").html("");$(param.input_name).val("");$(param.input_name).removeAttr('readonly').val(dateStr);var wpc_pro_result_obj=check_obj();if(wpc_pro_result_obj==true){var settings=wpc_obj.settings_options;var selected_day=wpc_flatpicker_date_change(selectedDates,"D");if(param.type=="delivery"){var wpc_pro_delivery_start_time=settings.wpc_delivery_weekly_schedule_start_time;var wpc_pro_delivery_end_time=settings.wpc_delivery_weekly_schedule_end_time;var weekly_delivery_schedule_arr=settings.wpc_delivery_schedule;var wpc_pro_result=wpc_weekly_schedule_time(weekly_delivery_schedule_arr,selected_day,wpc_pro_delivery_start_time,wpc_pro_delivery_end_time);if(wpc_pro_result.success==true){wpc_pro_delivery_start_time=wpc_pro_result.wpc_start_time;wpc_pro_delivery_end_time=wpc_pro_result.wpc_end_time;param.time_obj.timepicker('option','minTime',wpc_pro_delivery_start_time);param.time_obj.timepicker('option','maxTime',wpc_pro_delivery_end_time);}else{alert("Delivery schedule is not setup.");$(param.id).val("");}}
else if(param.type=="pickup"){var wpc_pro_pickup_start_time=settings.wpc_pickup_weekly_schedule_start_time;var wpc_pro_pickup_end_time=settings.wpc_pickup_weekly_schedule_end_time;var weekly_pickup_schedule_arr=settings.wpc_pickup_weekly_schedule;var wpc_pro_result=wpc_weekly_schedule_time(weekly_pickup_schedule_arr,selected_day,wpc_pro_pickup_start_time,wpc_pro_pickup_end_time);if(wpc_pro_result.success==true){wpc_pro_pickup_start_time=wpc_pro_result.wpc_start_time;wpc_pro_pickup_end_time=wpc_pro_result.wpc_end_time;wpc_pro_pickup_time.timepicker('option','minTime',wpc_pro_pickup_start_time);wpc_pro_pickup_time.timepicker('option','maxTime',wpc_pro_pickup_end_time);}else{alert("Pickup schedule is not setup.");$(param.id).val("");}}}}});}
var order_type=$(".minicart-condition-parent");var mini_cart_checkout=$("a.button.wpc_order_both.checkout");var enable_class=mini_cart_checkout.css({"opacity":"1","pointer-events":"auto"});if(order_type.length==0){enable_class;}
else{var order_type_input=$(".wpc-minicart-condition-input").is(':checked');if(order_type.find(".order_type").val()=="Both"&&order_type_input==false){mini_cart_checkout.css({"opacity":"0.5","pointer-events":"none"})}else{$("a.button.checkout").css({"opacity":"1","pointer-events":"auto"})
enable_class}}
jQuery(document).on("click",".wpc-minicart-condition-input",function(){var selectedValue=$(this).val();$(this).siblings("#wpc-minicart-condition-value-holder").val(selectedValue);$(this).parents(".minicart-condition-parent").siblings(".woocommerce-mini-cart__buttons").find(".button.checkout.wpc_order_both").css("opacity","1.0").css("pointer-events","auto");var local_storage_value=localStorage.getItem('wpcpro_delivery');if(local_storage_value===null){localStorage.setItem('wpcpro_delivery',selectedValue);}else{localStorage.removeItem('wpcpro_delivery');localStorage.setItem('wpcpro_delivery',selectedValue);}});var location_save_value=localStorage.getItem('wpc_location');$("option[value='"+location_save_value+"']").attr("selected","selected");var load_more=$(".loadmore-section");if(load_more.length>0){load_more.each(function(){load_more_action($,$(this));});}
$(".wpc-menu-mini-cart").on("change keyup","input.qty",function(){var $this=$(this);var quantity=$this.val();var $key_div=$this.parents(".mini_cart_item");var cart_item_key=$key_div.find(".remove").data("cart_item_key");if(typeof cart_item_key!=="undefined"&&cart_item_key!==""){var data={action:'update_cart_with_quantiy',cart_item_key:cart_item_key,quantity:quantity};$.ajax({url:wpc_obj.ajax_url,type:'POST',data:data,dataType:'html',beforeSend:function(){$key_div.addClass("loading");},success:function(response){if(response!==""){var fragment=JSON.parse(response);if(fragment){$.each(fragment.fragments,function(key,value){$(key).replaceWith(value);});$(document.body).trigger('wc_fragments_refreshed');}}},});}})
$(".wpc-product-popup-content,.summary").on('click','.variation-radios span',function(){var radio_value=$(this).prev(":radio").val(),radio_id=$(this).prev(":radio").attr("id"),radio_name=$(this).prev(":radio").attr('name');if(typeof radio_id!=="undefined"){$('input[name="'+radio_name+'"][id="'+radio_id+'"]').prop("checked",true);}else{$('input[name="'+radio_name+'"][value="'+radio_value+'"]').prop("checked",true);}
$('select[name="'+radio_name+'"]').val(radio_value).trigger('change');});$(document).on('woocommerce_update_variation_values',function(){$('.variation-radios input').each(function(index,element){$(element).removeAttr('disabled');var thisName=$(element).attr('name');var thisVal=$(element).attr('value');if($('select[name="'+thisName+'"] option[value="'+thisVal+'"]').is(':disabled')){$(element).prop('disabled',true);}});});});var tab_class=$(".wpc-ajax-livesearch-wrap");if(tab_class.length>0){tab_class.each(function(){food_menu_search_fire($,$(this));})}
if($(".wpc-reservation-pro-wrap").length>0){var current_fs,next_fs,previous_fs;$('.wpc-validate').on('change input',function(){$(this).removeClass('error');if($(this).val()===""){$(this).addClass('error');}})
$(".wpc-form-next").on('click',function(){var empty=false;$(this).parent().find('.wpc-validate').each(function(){if($(this).val()===""){$(this).addClass('error');empty=true;}});if(empty){return;}
current_fs=$(this).parent();next_fs=$(this).parent().next();$(".wpc-reseravation-pagination li").eq($(".wpc-field-set").index(next_fs)).addClass("active");next_fs.show();current_fs.css({display:'none'},{complete:function(){current_fs.hide();},});});$(".wpc-form-previous").on('click',function(){current_fs=$(this).parents('.wpc-field-set');previous_fs=$(this).parents('.wpc-field-set').prev();$(".wpc-reseravation-pagination li").eq($(this).parents('.wpc-field-set').index()).removeClass("active");previous_fs.show();current_fs.css({display:'none'},{complete:function(){current_fs.hide();},});});}
$(".wpc-reservation-success").css("display","none");})(jQuery);function slider_action($,$scope,params,popup_param=""){var $container=$scope.find(params);var count=$container.data('count');if($container.length>0){$($container).each(function(index,element){new Swiper(element,{slidesPerView:count,spaceBetween:30,navigation:{nextEl:'.swiper-button-next',prevEl:'.swiper-button-prev',},pagination:{el:'.swiper-pagination',clickable:true,},observer:true,observeParents:true,paginationClickable:true,freeMode:true,watchSlidesVisibility:true,watchSlidesProgress:true,breakpoints:{320:{slidesPerView:1,},600:{slidesPerView:2,},1024:{slidesPerView:count,}}});});}
if(popup_param!==""){wpc_widgets_popup($,popup_param);}}
function wpc_pro_pirnt_content_area(divContents){"use strict";var mywindow=window.open('','PRINT','height=400,width=800');mywindow.document.write('<style type="text/css">'
+'.woocommerce-column--1, .woocommerce-column--2{display:inline-block; float: none; width: 300px; vertical-align: top;}  .woocommerce-table tr th{text-align:left; width: 300px; }'+
'</style>');var contentToPrint=document.getElementsByClassName(divContents)[0].innerHTML;contentToPrint=contentToPrint.split("<div class=\"extra-buttons\">")[0];mywindow.document.write('</head><body >');mywindow.document.write(contentToPrint);mywindow.document.write('</body></html>');mywindow.document.close();mywindow.focus();mywindow.print();return true;}
function wpc_pro_download_pdf(){var contentToPrint=document.getElementsByClassName("woocommerce-order")[0].innerHTML;var source=contentToPrint.split("<div class=\"extra-buttons\">")[0];var filename="invoice";jQuery('.woocommerce-order').html(source);var divToPrint=jQuery('.woocommerce-order')[0];var w=1000;var h=1000;var canvas=document.createElement('canvas');canvas.width=w*5;canvas.height=h*5;canvas.style.width=w+'px';canvas.style.height=h+'px';var context=canvas.getContext('2d');context.scale(5,5);html2canvas(divToPrint,{scale:4,dpi:288,onrendered:function(canvas){var data=canvas.toDataURL('image/png',1);var docDefinition={content:[{image:data,width:500}]};pdfMake.createPdf(docDefinition).download(filename+".pdf");}});window.setTimeout(function(){location.reload()},500);}
function reservation_extra_field(){var reserve_extra=jQuery('input[name="reserv_extra[]').map(function(){return(jQuery(this).val());}).get();return reserve_extra;}
function reservation_success_block(data){var form_style=jQuery(".form_style").data("form_style");switch(form_style){case "pro-1":jQuery(".reservation-info").fadeOut();jQuery(".wpc-reservation-success").fadeIn();var booking_details=jQuery(".booking_details").data("booking_details");if(typeof data.message!=="undefined"){jQuery(".message_block_two ").html("").html(data.message);}
if(typeof data.invoice!=="undefined"){jQuery(".booking_details").html("").html(booking_details+" "+data.invoice);}
break;default:break;}}